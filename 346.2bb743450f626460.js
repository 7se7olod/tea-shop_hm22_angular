"use strict";(self.webpackChunkhomework22=self.webpackChunkhomework22||[]).push([[346],{9346:(D,s,o)=>{o.r(s),o.d(s,{OrderModule:()=>O});var a=o(6895),c=o(646),r=o(433),u=o(4650),m=o(529);let p=(()=>{class t{constructor(e){this.http=e}createOrder(e){return this.http.post("https://testologia.site/order-tea",e)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(m.eN))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=o(2610);function h(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043c\u044f"),u.qZA())}function g(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0432\u0432\u043e\u0434"),u.qZA())}function v(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e"),u.qZA())}function x(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0432\u0432\u043e\u0434"),u.qZA())}function _(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA())}function y(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0432\u0432\u043e\u0434"),u.qZA())}function T(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443"),u.qZA())}function Z(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0432\u0432\u043e\u0434"),u.qZA())}function A(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0438\u043d\u0434\u0435\u043a\u0441"),u.qZA())}function b(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0432\u0432\u043e\u0434"),u.qZA())}function F(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441"),u.qZA())}function E(t,n){1&t&&(u.TgZ(0,"div",33),u._uU(1,"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0432\u0432\u043e\u0434"),u.qZA())}function q(t,n){1&t&&(u.TgZ(0,"div",34)(1,"p",35),u._uU(2,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437"),u.qZA()())}const i=function(t){return{"border-danger":t}};function C(t,n){if(1&t){const e=u.EpF();u.TgZ(0,"div",3)(1,"h3",4),u._uU(2,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA(),u.TgZ(3,"form",5)(4,"div",6)(5,"label",7),u._uU(6,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(7,"input",8),u.qZA(),u.TgZ(8,"div",9)(9,"div",6)(10,"label",10),u._uU(11,"\u0418\u043c\u044f"),u.qZA(),u._UZ(12,"input",11),u.YNc(13,h,2,0,"div",12),u.YNc(14,g,2,0,"div",12),u.qZA(),u.TgZ(15,"div",6)(16,"label",13),u._uU(17,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(18,"input",14),u.YNc(19,v,2,0,"div",12),u.YNc(20,x,2,0,"div",12),u.qZA(),u.TgZ(21,"div",15)(22,"label",16),u._uU(23,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(24,"input",17),u.YNc(25,_,2,0,"div",12),u.YNc(26,y,2,0,"div",12),u.qZA()(),u.TgZ(27,"div",18)(28,"div",19)(29,"label",20),u._uU(30,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(31,"input",21),u.YNc(32,T,2,0,"div",12),u.YNc(33,Z,2,0,"div",12),u.qZA(),u.TgZ(34,"div",19)(35,"label",22),u._uU(36,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(37,"input",23),u.YNc(38,A,2,0,"div",12),u.YNc(39,b,2,0,"div",12),u.qZA()(),u.TgZ(40,"div",24)(41,"div",25)(42,"label",26),u._uU(43,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(44,"input",27),u.YNc(45,F,2,0,"div",12),u.YNc(46,E,2,0,"div",12),u.qZA()(),u.TgZ(47,"div",6)(48,"label",28),u._uU(49,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(50,"input",29),u.qZA(),u.TgZ(51,"div",24)(52,"div",30)(53,"button",31),u.NdJ("click",function(){u.CHM(e);const d=u.oxw();return u.KtG(d.sendOrder())}),u._uU(54," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c "),u.qZA(),u.YNc(55,q,3,0,"div",32),u.qZA()()()()}if(2&t){const e=u.oxw();u.xp6(3),u.Q6J("formGroup",e.buyTeaForm),u.xp6(4),u.Tol(u.VKq(30,i,(null==e.product?null:e.product.invalid)&&((null==e.product?null:e.product.dirty)||(null==e.product?null:e.product.touched)))),u.xp6(5),u.Tol(u.VKq(32,i,(null==e.name?null:e.name.invalid)&&((null==e.name?null:e.name.dirty)||(null==e.name?null:e.name.touched)))),u.xp6(1),u.Q6J("ngIf",(null==e.name?null:e.name.hasError("required"))&&((null==e.name?null:e.name.dirty)||(null==e.name?null:e.name.touched))),u.xp6(1),u.Q6J("ngIf",null==e.name?null:e.name.hasError("pattern")),u.xp6(4),u.Tol(u.VKq(34,i,(null==e.lastName?null:e.lastName.invalid)&&((null==e.lastName?null:e.lastName.dirty)||(null==e.lastName?null:e.lastName.touched)))),u.xp6(1),u.Q6J("ngIf",(null==e.lastName?null:e.lastName.hasError("required"))&&((null==e.lastName?null:e.lastName.dirty)||(null==e.lastName?null:e.lastName.touched))),u.xp6(1),u.Q6J("ngIf",null==e.lastName?null:e.lastName.hasError("pattern")),u.xp6(4),u.Tol(u.VKq(36,i,(null==e.phone?null:e.phone.invalid)&&((null==e.phone?null:e.phone.dirty)||(null==e.phone?null:e.phone.touched)))),u.xp6(1),u.Q6J("ngIf",(null==e.phone?null:e.phone.hasError("required"))&&((null==e.phone?null:e.phone.dirty)||(null==e.phone?null:e.phone.touched))),u.xp6(1),u.Q6J("ngIf",null==e.phone?null:e.phone.hasError("pattern")),u.xp6(5),u.Tol(u.VKq(38,i,(null==e.country?null:e.country.invalid)&&((null==e.country?null:e.country.dirty)||(null==e.country?null:e.country.touched)))),u.xp6(1),u.Q6J("ngIf",(null==e.country?null:e.country.hasError("required"))&&((null==e.country?null:e.country.dirty)||(null==e.country?null:e.country.touched))),u.xp6(1),u.Q6J("ngIf",null==e.country?null:e.country.hasError("pattern")),u.xp6(4),u.Tol(u.VKq(40,i,(null==e.zip?null:e.zip.invalid)&&((null==e.zip?null:e.zip.dirty)||(null==e.zip?null:e.zip.touched)))),u.xp6(1),u.Q6J("ngIf",(null==e.zip?null:e.zip.hasError("required"))&&((null==e.zip?null:e.zip.dirty)||(null==e.zip?null:e.zip.touched))),u.xp6(1),u.Q6J("ngIf",null==e.zip?null:e.zip.hasError("pattern")),u.xp6(5),u.ekj("border-danger",(null==e.address?null:e.address.invalid)&&((null==e.address?null:e.address.dirty)||(null==e.address?null:e.address.touched))),u.xp6(1),u.Q6J("ngIf",(null==e.address?null:e.address.hasError("required"))&&((null==e.address?null:e.address.dirty)||(null==e.address?null:e.address.touched))),u.xp6(1),u.Q6J("ngIf",null==e.address?null:e.address.hasError("pattern")),u.xp6(7),u.ekj("disabled",e.isDisabledButton),u.xp6(2),u.Q6J("ngIf",e.dangerTextForm)}}function N(t,n){1&t&&(u.TgZ(0,"div",36)(1,"h1",37),u._uU(2,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),u.qZA()())}const I=[{path:"",component:(()=>{class t{constructor(e,l,d){this.formService=e,this.orderService=l,this.fb=d,this.isSuccessForm=!1,this.dangerTextForm=!1,this.isDisabledButton=!1,this.nameRegex=new RegExp("^[\u0430-\u044f\u0410-\u042f]"),this.phoneRegex=new RegExp("^(\\+7|7|8)?[\\s\\-]?\\(?[489][0-9]{2}\\)?[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{2}[\\s\\-]?[0-9]{2}$"),this.addressRegex=new RegExp("^[\u0410-\u042f\u0430-\u044f0-9\\s\\/-]*$"),this.countryRegex=new RegExp("^[\u0430-\u044f\u0410-\u042f]+(?:[\\s-][\u0430-\u044f\u0410-\u042f]+)*$"),this.zipRegex=new RegExp("^\\d{5}(?:[-\\s]\\d{4})?$"),this.buyTeaForm=this.fb.group({product:{value:"",disabled:!0},name:["",[r.kI.required,r.kI.pattern(this.nameRegex)]],phone:["",[r.kI.required,r.kI.pattern(this.phoneRegex)]],last_name:["",[r.kI.required,r.kI.pattern(this.nameRegex)]],country:["",[r.kI.required,r.kI.pattern(this.countryRegex)]],zip:["",[r.kI.required,r.kI.pattern(this.zipRegex)]],address:["",[r.kI.required,r.kI.pattern(this.addressRegex)]],comment:""})}ngOnInit(){const e=this.orderService.product;e&&this.buyTeaForm.patchValue({product:e})}get product(){return this.buyTeaForm.get("product")}get name(){return this.buyTeaForm.get("name")}get phone(){return this.buyTeaForm.get("phone")}get lastName(){return this.buyTeaForm.get("last_name")}get country(){return this.buyTeaForm.get("country")}get zip(){return this.buyTeaForm.get("zip")}get address(){return this.buyTeaForm.get("address")}get comment(){return this.buyTeaForm.get("comment")}sendOrder(){if(this.isDisabledButton=!0,this.buyTeaForm.markAllAsTouched(),this.buyTeaForm.invalid)return this.isDisabledButton=!1,this.isSuccessForm=!1,this.dangerTextForm=!0,void setTimeout(()=>{this.dangerTextForm=!1},3e3);const e=this.buyTeaForm.getRawValue();this.formService.createOrder(e).subscribe(l=>{0===l.success?(this.isSuccessForm=!1,this.dangerTextForm=!0):1===l.success&&(this.isSuccessForm=!0,this.dangerTextForm=!1),this.isDisabledButton=!1})}}return t.\u0275fac=function(e){return new(e||t)(u.Y36(p),u.Y36(f.p),u.Y36(r.j3))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-order"]],decls:3,vars:2,consts:[[1,"vh-75","d-flex","justify-content-center","align-items-center"],["class","main-form wow bounceInUp container p-sm-3 p-1 mx-auto d-flex flex-column justify-content-center align-items-center gap-4",4,"ngIf"],["class","vh-100 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"main-form","wow","bounceInUp","container","p-sm-3","p-1","mx-auto","d-flex","flex-column","justify-content-center","align-items-center","gap-4"],[1,"main-form-title","fw-bold"],[1,"col-md-6","col-10",3,"formGroup"],[1,"col-sm","col-12","mb-3"],["for","product","id","form-product",1,"form-label","col-2"],["type","text","id","product","formControlName","product",1,"form-input","form-control"],[1,"mb-3","row-cols-md","row-cols-sm","row"],["for","name","id","form-name",1,"form-label","col-2"],["type","text","id","name","formControlName","name",1,"form-input","form-control"],["class","fs-6 text-danger",4,"ngIf"],["for","surname","id","form-surname",1,"form-label","col-2"],["type","text","id","surname","formControlName","last_name",1,"form-input","form-control"],[1,"col-sm","col-12"],["for","telephone","id","form-telephone",1,"form-label"],["type","text","id","telephone","formControlName","phone",1,"form-input","form-control"],[1,"row-cols-md","row-cols-sm","row"],[1,"mb-3","col-sm","col-12"],["for","country","id","form-country",1,"form-label","col-2"],["type","text","id","country","formControlName","country",1,"form-input","form-control"],["for","index","id","form-index",1,"form-label","col-2"],["type","text","id","index","maxlength","6","formControlName","zip",1,"form-input","form-control"],[1,"row"],[1,"mb-3"],["for","address","id","form-address",1,"form-label","col-2"],["type","text","id","address","formControlName","address",1,"form-input","form-control"],["for","comment","id","form-comment",1,"form-label","col-4"],["type","text","id","comment","formControlName","comment",1,"form-input","form-control"],[1,"my-3"],["type","submit",1,"submit-form","btn","btn-primary","col-xl-3","col-lg-3","col-sm-4","col-12","hvr-sweep-to-right","border-0",3,"click"],["class","d-inline-block mx-3",4,"ngIf"],[1,"fs-6","text-danger"],[1,"d-inline-block","mx-3"],[1,"text-danger"],[1,"vh-100","d-flex","justify-content-center","align-items-center"],[1,"text-center"]],template:function(e,l){1&e&&(u.TgZ(0,"div",0),u.YNc(1,C,56,42,"div",1),u.YNc(2,N,3,0,"div",2),u.qZA()),2&e&&(u.xp6(1),u.Q6J("ngIf",!l.isSuccessForm),u.xp6(1),u.Q6J("ngIf",l.isSuccessForm))},dependencies:[a.O5,r._Y,r.Fj,r.JJ,r.JL,r.nD,r.sg,r.u],encapsulation:2}),t})()}];let U=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[c.Bz.forChild(I),c.Bz]}),t})(),O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[a.ez,r.UX,U]}),t})()}}]);